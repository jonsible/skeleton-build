---
galaxy_info:
  role_name: {{ cookiecutter.role_name }}
  author: {{ cookiecutter._author }}
  description: |
    {{ cookiecutter.description }}

  license: MIT

  min_ansible_version: {{ cookiecutter._min_ansible_version }}

  platforms:
    {%- for os, versions in cookiecutter.platforms|dictsort %}
    - name: {{ os }}
      versions:
        {%- for version in versions %}
        - {{ version }}
        {%- endfor %}
    {%- endfor %}

  galaxy_tags:
  {%- for tag in cookiecutter.galaxy_tags %}
    - {{ tag }}
  {%- else %} []
  {%- endfor %}

  dependencies:
  {%- for dependency in cookiecutter.dependencies %}
    - {{ dependency }}
  {%- endfor %}
    - role: geerlingguy.git
      vars:
        git_install_from_source: true
        git_install_from_source_force_update: true
        git_install_path: "/usr"
        git_install_version: "2.24.1"
      when:
        - ansible_os_family == 'RedHat'
        - ansible_distribution != 'Fedora'

    - role: geerlingguy.git
      when: >
        ansible_distribution == "Fedora" or
        ansible_os_family != 'RedHat'

    - role: joscherrer.ulist
