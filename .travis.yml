---
language: python
sudo: required
cache:
  pip: true

env:
  global:
    - fast_finish: true

services:
  - docker

before_install:
  - sudo apt-get -qq update

install:
  - sudo apt-get -y install python-pip libssl-dev
  - pip install --upgrade setuptools
  - pip install molecule
  - pip install molecule[docker]
  - WDIR=$(pwd)
  - cd /tmp
  - curl -L https://networkgenomics.com/try/mitogen-0.2.9.tar.gz | tar -xz
  - cd $WDIR

script:
  - cookiecutter https://github.com/jonsible/skeleton-build --no-input role_name=tmux
  - cd tmux
  - molecule test --all

notifications:
  email:
    on_failure: change
    on_success: never
